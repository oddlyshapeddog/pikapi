language: node_js
node_js:
  - "8"
script: npm run lint && npm run test
deploy:
  matrix:
    - provider: lambda
      function_name: ods-build-amazon-url
      region: us-east-1
      role: arn:aws:iam::766510574476:role/oddly_shaped_dog_execution
      runtime: nodejs6.10
      handler_name: build-amazon-url
      timeout: 10
    - provider: lambda
      function_name: ods-list
      region: us-east-1
      role: arn:aws:iam::766510574476:role/oddly_shaped_dog_execution
      runtime: nodejs6.10
      handler_name: list
      timeout: 15
    - provider: lambda
      function_name: ods-pick-random-line
      region: us-east-1
      role: arn:aws:iam::766510574476:role/oddly_shaped_dog_execution
      runtime: nodejs6.10
      handler_name: pick-random-line
      timeout: 15
    - provider: lambda
      function_name: ods-tracery
      region: us-east-1
      role: arn:aws:iam::766510574476:role/oddly_shaped_dog_execution
      runtime: nodejs6.10
      handler_name: tracery
      timeout: 15
  access_key_id:
    secure: EUVcPGbLqe8CRJCwVzJOwvxq81T5ClXEc++7nvNUhVGrpGoCQyGM77aldKNlrAAfFgDbcR4hwjHLwY7lIiHl2MNvfDJzenkhCsT0XPgG5Fo3Torx/oJ/b2IBD1iTYjtUPUxIrdWYcMRrvLGOmMxjzTlKafIiTvAxkiEguYWctamEmMjwibO9tZCwC3voCOEt+0uGI1/EZOhL++C8pxhPpZN8ZTQrF+KXFV2H1eym9CAJ+aAmSlgfrzaa0NpMzwsIHj0Es4zyYp9xqQCpVLzfw/H14XKeD1IwaNW32jFcFm4MWSoCxqVRvYFWTf7e0Md2BSmDD7ndR6CfHzEIh/ElHdVXw2wPXeF5kpGX+CQmd//aNnPGa7lW58yLGAVwG3f3P+9/Y3k4+8M8BrY9fP38vK/xNvRo/naPGDrBrZ+7ApMHNbO92pMGdMJ9IkqPfW2ZYODX2JFR41bE3ZqeJj4ZnS5/dAhqHqzYF22P3XPu/OL4dUUV/2nLQNfVTlapRWWy94PalAn64t5TiaHtfUSV5lIWZ5h6FSjhKC/jyGPlBVnHbVXJRRR9kWiwxgb9Ad2dKzD2WrMvh0O3RAWiz2w3cuDgVJjUeIcscVKaZIn7CF+WQd2TJOV0YP2Cjvn1Tmlmravq9b6l1Pls5IvqcLlnmkaW06S/45CPgQrkACULQPM=
  secret_access_key:
    secure: eEU58BCLqC16w5cnN7qVimvZlVoodnwWKJznTz1w2sUd1PETtQyZ3LVnnmx9h6bWrNst7yNepXr4sbFB4RIPBBfO9liOHe4Cq8qDtTzDG6ivk9Hfo40EP9L5v0sy6/zge0wr/DGZRvYGM5T8rxhZGg2FVL2QgvIC4LaTIWIODbFG6o5bxx7+zIuLZoG5pmzH3ZCbi+2E89c9QzBvrDbncwBAQ24lyt9mozwxXXOxoidmnWNAbTFtgRcPa9QTSpw+XMD7oCzOKk1UG24jBRlG/chsbfaWg9HDGIukv8Y+VrI90+5MekKnPRwhzOoXTuMxVH+Cl8BzTa+e1yLkBpAXM5/ABN9syY7eOZi3xnHSzaLGAf+MpZwgQth/WoSxBLRMax44bNOW/4lLLTWe6bTxigho0CpaYmT3OLlx2hL80zTEIhD/FB7EIv3TeazcZ8Cg1WzzsDb2pn1YnL7Jd/Rt3KgxK6Yj7OLsG1WB9ZjtwO/papC2NW0KdWIcwtErEUzciv5C3U3y8DPUVYtRf07DnN8ttURT2xX0uDk2tjreCWpqcZhJDNLlv44a9IwthxlCLd1zww/gwqO1hzdE3n0ttp61/hL3kkCrHWrtwV5Uu/vH1Y16bhD7+uLIagm6ueAneOdPKgLB4K5xEvWcK9X2tevntyuJQ2JSJc7bdInyYmA=
